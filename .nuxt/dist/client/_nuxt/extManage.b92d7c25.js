import{_ as H}from"./AppSelect.vue.6a73b757.js";import{_ as q}from"./DialogCloseBtn.vue.d03e311e.js";import{_ as G}from"./AppTextField.vue.bf697606.js";import{p as J,V as K}from"./VPagination.9bd5a386.js";import{s as _}from"./index.95a1337c.js";import{a as O,k as Q,r,C as W,b as v,m as Y,e,w as o,g as y,f as l,i as k,j as w,t as Z,c as x,s as p,A as h,F as ee}from"./entry.78a4d2b5.js";import{u as le}from"./emp.01c69dea.js";import{b as B,a as P}from"./VCard.74fedfca.js";import{V as ae}from"./VSpacer.47a3ab3e.js";import{V as A}from"./VDivider.0d3ed842.js";import{V as te}from"./VDataTable.98bf3bb2.js";import{V as c}from"./VCol.369eaaa8.js";import{V as D}from"./VRow.54119276.js";import{V as oe}from"./VDialog.5abc7388.js";import{V as U}from"./VAlert.659862cf.js";import{V as T}from"./VSnackbar.01af3bad.js";import"./VCheckboxBtn.de217159.js";import"./forwardRefs.6ea3df5c.js";import"./VSelect.dc01c53d.js";import"./VMenu.b24af2d4.js";import"./createSimpleFunctional.7c9d16ea.js";import"./VAvatar.c7ed456b.js";/* empty css              */const se=y("h1",{class:"mb-6"},"초과수당관리",-1),ue={class:"me-3 d-flex gap-3"},ne={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ie={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},me={class:"text-sm text-disabled mb-0"},Le=O({__name:"extManage",setup(de){const N=Q(),S=le();S.loadEmpCode(),console.log("현재 로그인된 직원 코드:",S.empCode),S.empCode!=="EMP-01"&&S.empCode!=="EMP-00"&&N.push("/hr/confinement/unauthorized");const f=r(!1),C=r(!1),n=r(""),s=r(""),u=r(""),g=r(!1),i=r(!1),E=r([]),m=r({page:1,itemsPerPage:5,sortBy:[""],sortDesc:[!1]}),L=[{title:"초과근무코드",key:"extSalCode"},{title:"초과근무종류",key:"extSalName"},{title:"배율",key:"ratio"}],b=async()=>{await _().SEARCH_BASE_EXT_SAL(),E.value=_().baseExtSalList},M=async()=>{n.value="",s.value="",u.value="",g.value=!1,i.value=!0},R=async d=>{n.value=d.item.extSalCode,s.value=d.item.extSalName,u.value=d.item.ratio,g.value=!0,i.value=!0},$=async()=>{const d={extSalCode:n.value,extSalName:s.value,ratio:u.value};await _().EDIT_BASE_EXT_SAL(d),await b(),i.value=!1,f.value=!0},j=async()=>{const d={extSalCode:n.value,extSalName:s.value,ratio:u.value};u.value===""||u.value===null||s.value===""||s.value===null?C.value=!0:(await _().ADD_BASE_EXT_SAL(d),await b(),i.value=!1,f.value=!0)},F=async()=>{await _().DELETE_BASE_EXT_SAL(n.value),await b(),i.value=!1,f.value=!0};return W(b),(d,a)=>{const X=H,z=q,V=G;return v(),Y(ee,null,[se,e(P,null,{default:o(()=>[e(B,{class:"d-flex flex-wrap py-4 gap-4"},{default:o(()=>[y("div",ue,[e(X,{"model-value":l(m).itemsPerPage,items:[{value:5,title:"5"},{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":a[0]||(a[0]=t=>l(m).itemsPerPage=parseInt(t,10))},null,8,["model-value"])]),e(ae),y("div",ne,[e(k,{"prepend-icon":"tabler-plus",onClick:M},{default:o(()=>[w(" 초과 기준 추가 ")]),_:1})])]),_:1}),e(A),e(l(te),{headers:L,items:l(E),"items-per-page":l(m).itemsPerPage,page:l(m).page,options:l(m),"onClick:row":a[2]||(a[2]=(t,I)=>R(I))},{bottom:o(()=>[e(A),e(B,{class:"pt-2"},{default:o(()=>[y("div",ie,[y("p",me,Z(l(J)({page:l(m).page,itemsPerPage:l(m).itemsPerPage},l(E).length)),1),e(K,{modelValue:l(m).page,"onUpdate:modelValue":a[1]||(a[1]=t=>l(m).page=t),"total-visible":d.$vuetify.display.smAndDown?3:5,length:Math.ceil(l(E).length/l(m).itemsPerPage)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1},8,["items","items-per-page","page","options"])]),_:1}),e(oe,{modelValue:l(i),"onUpdate:modelValue":a[10]||(a[10]=t=>p(i)?i.value=t:null),"max-width":"600"},{default:o(()=>[e(z,{onClick:a[3]||(a[3]=t=>i.value=!l(i))}),e(P,{title:"초과 수당 기준 추가"},{default:o(()=>[e(B,null,{default:o(()=>[l(g)?(v(),x(D,{key:0},{default:o(()=>[e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(n),"onUpdate:modelValue":a[4]||(a[4]=t=>p(n)?n.value=t:null),label:"초과 근무 코드",disabled:""},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(s),"onUpdate:modelValue":a[5]||(a[5]=t=>p(s)?s.value=t:null),label:"초과 근무 종류",disabled:""},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(u),"onUpdate:modelValue":a[6]||(a[6]=t=>p(u)?u.value=t:null),label:"배율"},null,8,["modelValue"])]),_:1})]),_:1})):(v(),x(D,{key:1},{default:o(()=>[e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(n),"onUpdate:modelValue":a[7]||(a[7]=t=>p(n)?n.value=t:null),label:"초과 근무 코드"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(s),"onUpdate:modelValue":a[8]||(a[8]=t=>p(s)?s.value=t:null),label:"초과 근무 종류"},null,8,["modelValue"])]),_:1}),e(c,{cols:"12",sm:"6"},{default:o(()=>[e(V,{modelValue:l(u),"onUpdate:modelValue":a[9]||(a[9]=t=>p(u)?u.value=t:null),label:"배율"},null,8,["modelValue"])]),_:1})]),_:1}))]),_:1}),e(B,{class:"d-flex justify-end flex-wrap gap-3 mt-2"},{default:o(()=>[l(g)?(v(),x(k,{key:0,onClick:$},{default:o(()=>[w(" 수정 ")]),_:1})):h("",!0),l(g)?(v(),x(k,{key:1,onClick:F},{default:o(()=>[w(" 삭제 ")]),_:1})):(v(),x(k,{key:2,onClick:j},{default:o(()=>[w(" 추가 ")]),_:1}))]),_:1})]),_:1})]),_:1},8,["modelValue"]),e(T,{modelValue:l(C),"onUpdate:modelValue":a[11]||(a[11]=t=>p(C)?C.value=t:null),location:"top",timeout:3e3,color:"warning"},{default:o(()=>[e(U,{density:"compact",type:"warning",title:"warning!",text:"초과 근무 종류, 배율을 확인해주세요."})]),_:1},8,["modelValue"]),e(T,{modelValue:l(f),"onUpdate:modelValue":a[12]||(a[12]=t=>p(f)?f.value=t:null),location:"top",timeout:3e3,color:"success"},{default:o(()=>[e(U,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}});export{Le as default};
