import{_ as b}from"./AppTextField.vue.fcab0048.js";import{d as w}from"./index.c41316d6.js";import{a as k,k as C,r as c,l as E,o as v,b as L,m as N,e as t,w as s,g as u,f as n,s as _,i as x,j as D,F as S}from"./entry.0077e48a.js";import{u as T}from"./emp.e7e6b086.js";import{V as M}from"./VContainer.accda7ef.js";import{b as j,a as B}from"./VCard.1ab51dfd.js";import{V as F}from"./VSpacer.a32ede2b.js";import{V as P}from"./VDivider.51cc7cc8.js";import{V as O}from"./VDataTable.1a53a7aa.js";import"./VCheckboxBtn.d2c75b1a.js";import"./forwardRefs.6ea3df5c.js";/* empty css              */import"./createSimpleFunctional.0ef38bc9.js";import"./VAvatar.fa2cb2ba.js";import"./VSelect.1a9a2110.js";import"./VMenu.a2c145c5.js";const R=u("h1",{class:"mb-6"}," 일용근로 직원이력 관리 ",-1),z={style:{"inline-size":"10rem"}},G={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},re=k({__name:"log",setup(U){const V=C(),o=T();o.loadEmpCode(),console.log("현재 로그인된 직원 코드:",o.empCode),o.empCode!=="EMP-01"&&o.empCode!=="EMP-00"&&V.push("/hr/confinement/unauthorized");const r=c(""),i=w(),d=c([]),l=c([]),g=[{title:"성명",key:"employeeName",align:"center"},{title:"주민등록번호",key:"residentialNumber",align:"center"},{title:"프로젝트",key:"project",align:"center"},{title:"부서",key:"department",align:"center"},{title:"시작날짜",key:"workStartDate",align:"center"},{title:"종료날짜",key:"workEndDate",align:"center"},{title:"핸드폰",key:"phoneNumber",align:"center"}],f=async()=>{await i.FETCH_EMP_LOG(),d.value=await i.empLogList},y=async()=>{const a=[];l.value.forEach(e=>{const m={employeeName:e.employeeName,residentialNumber:e.residentialNumber};a.push(m)}),await i.DELETE_EMP_LOG(a),await f()},h=E(()=>d.value.filter(a=>Object.values(a).some(e=>typeof e=="string"?e.toLowerCase().includes(r.value.toLowerCase()):!1)));return v(f),(a,e)=>{const m=b;return L(),N(S,null,[R,t(B,null,{default:s(()=>[t(M,null,{default:s(()=>[t(j,{class:"d-flex flex-wrap py-4 gap-4"},{default:s(()=>[u("div",z,[t(m,{modelValue:n(r),"onUpdate:modelValue":e[0]||(e[0]=p=>_(r)?r.value=p:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])]),t(F),u("div",G,[t(x,{"prepend-icon":"tabler-minus",onClick:y},{default:s(()=>[D(" 이력 삭제 ")]),_:1})])]),_:1}),t(P),t(n(O),{modelValue:n(l),"onUpdate:modelValue":e[1]||(e[1]=p=>_(l)?l.value=p:null),headers:g,items:n(h),"item-value":"residentialNumber","return-object":"","show-select":""},null,8,["modelValue","items"])]),_:1})]),_:1})],64)}}});export{re as default};
