import{_ as q}from"./AppTextField.vue.34aba9d8.js";import{_ as z}from"./AppSelect.vue.71d8fb80.js";import{_ as G}from"./AppDateTimePicker.vue.6e705931.js";import{b as K}from"./index.b2f92b84.js";import{d as Q}from"./index.94d531b9.js";import{a as W,k as X,r as d,l as Z,o as h,b as w,m as ee,e,w as m,f as t,s as g,c as x,g as j,i as N,j as k,F as le}from"./entry.e158bc8e.js";import{u as ae}from"./emp.69aa027f.js";import{b as R,a as _}from"./VCard.1ce8b0ac.js";import{V}from"./VRow.4e9f5ddb.js";import{V as n}from"./VCol.fa6809e5.js";import{V as P}from"./VDivider.6873478d.js";import{V as te}from"./VDataTable.320c8fba.js";import{V as oe}from"./VContainer.3ea85318.js";import{V as me}from"./VCheckbox.5c4cecaa.js";import{V as L}from"./VAlert.63db0a1e.js";import{V as U}from"./VSnackbar.598bc60c.js";import"./VCheckboxBtn.7676e3d1.js";import"./forwardRefs.6ea3df5c.js";import"./VSelect.72dddcc6.js";import"./VMenu.dc4f7cef.js";import"./createSimpleFunctional.916b6f3e.js";import"./VAvatar.8c980a86.js";/* empty css              */const ne=j("h1",{class:"mb-6"}," 일용근로 직원관리 ",-1),ue={class:"d-flex align-center justify-end flex-wrap gap-4"},Se=W({__name:"manage",setup(ie){X();const D=ae();D.loadEmpCode(),console.log("현재 로그인된 직원 코드:",D.empCode);const y=d(!1),c=d(!1),p=d(!1),b=d(""),v=K(),r=Q(),f=d(!1),E=d([]),C=d([]),T=d([]),A=[{value:"내국인",title:"내국인"},{value:"외국인",title:"외국인"}],B=[{value:"일급",title:"일급"},{value:"주급",title:"주급"},{value:"월급",title:"월급"}],l=d({employeeId:"",employeeName:"",residentialNumber:"",nationality:"",department:"",project:"",workStartDate:"",workEndDate:"",employmentInsuranceEligibility:!1,normalPayType:"",normalPay:0,overtimePayRate:0,nightPayRate:0,bankName:"",accountNumber:"",accountHolder:"",phoneNumber:"",email:"",status:""}),H=[{title:"사원번호",key:"employeeId",align:"center"},{title:"성명",key:"employeeName",align:"center"},{title:"주민등록번호",key:"residentialNumber",align:"center"}],I=async()=>{await r.SEARCH_EMP_LIST(),E.value=await r.dailyLaborEmpList,await v.FETCH_DEPTLIST(),C.value=await v.deptList.map(i=>({title:i.deptName,value:i.deptCode})),await v.FETCH_PROJECT(),T.value=await v.projectList.map(i=>({title:i.projectName,value:i.projectName}))},F=()=>{f.value=!1,l.value={employeeId:"",employeeName:"",residentialNumber:"",nationality:"",department:"",project:"",workStartDate:"",workEndDate:"",employmentInsuranceEligibility:!1,normalPayType:"",normalPay:"",overtimePayRate:"",nightPayRate:"",bankName:"",accountNumber:"",accountHolder:"",phoneNumber:"",email:"",status:""}},M=async i=>{f.value=!0,await r.FETCH_EMP_DETAIL(i.item.employeeId),l.value=await r.dailyLaborEmpDetailInfo,l.value.employmentInsuranceEligibility==="Y"?l.value.employmentInsuranceEligibility=!0:l.value.employmentInsuranceEligibility=!1},Y=async()=>{l.value.employmentInsuranceEligibility===!0?l.value.employmentInsuranceEligibility="Y":l.value.employmentInsuranceEligibility="N";const i=l.value.employeeId,u=E.value.map(s=>s.employeeId).includes(i);f.value?u&&(await r.DELETE_EMP(l.value),await I(),p.value=!0):y.value=!0},$=async()=>{l.value.employmentInsuranceEligibility===!0?l.value.employmentInsuranceEligibility="Y":l.value.employmentInsuranceEligibility="N";const i=l.value.employeeId,u=E.value.map(s=>s.employeeId).includes(i);f.value?u&&(await r.UPDATE_EMP(l.value),p.value=!0):(u||(await r.INSERT_EMP(l.value),await I(),p.value=!0),c.value=!0)},O=Z(()=>E.value.filter(i=>Object.values(i).some(a=>typeof a=="string"?a.toLowerCase().includes(b.value.toLowerCase()):!1)));return h(I),(i,a)=>{const u=q,s=z,S=G;return w(),ee(le,null,[ne,e(_,{class:"mb-6"},{default:m(()=>[e(R,null,{default:m(()=>[e(V,null,{default:m(()=>[e(n,{cols:"12",sm:"4"},{default:m(()=>[e(u,{modelValue:t(b),"onUpdate:modelValue":a[0]||(a[0]=o=>g(b)?b.value=o:null),density:"compact",label:"검색","append-inner-icon":"tabler-search","single-line":"","hide-details":"",dense:"",outlined:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1}),e(V,null,{default:m(()=>[e(n,{md:"4"},{default:m(()=>[e(_,{class:"mb-6",height:"750",title:"일용직 사원 목록"},{default:m(()=>[e(P),e(R,null,{default:m(()=>[e(t(te),{headers:H,items:t(O),"items-per-page":10,"onClick:row":a[1]||(a[1]=(o,J)=>M(J))},null,8,["items"])]),_:1})]),_:1})]),_:1}),e(n,{md:"8"},{default:m(()=>[e(_,{class:"mb-6",height:"750",title:"기본정보"},{default:m(()=>[e(P,{class:"pt-2"}),e(oe,null,{default:m(()=>[e(V,{class:"pt-2"},{default:m(()=>[t(f)?(w(),x(n,{key:0,sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).employeeId,"onUpdate:modelValue":a[2]||(a[2]=o=>t(l).employeeId=o),label:"사원 번호",placeholder:"LAB",disabled:""},null,8,["modelValue"])]),_:1})):(w(),x(n,{key:1,sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).employeeId,"onUpdate:modelValue":a[3]||(a[3]=o=>t(l).employeeId=o),label:"사원 번호",placeholder:"LAB"},null,8,["modelValue"])]),_:1})),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).employeeName,"onUpdate:modelValue":a[4]||(a[4]=o=>t(l).employeeName=o),label:"성명",placeholder:"홍길동"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).residentialNumber,"onUpdate:modelValue":a[5]||(a[5]=o=>t(l).residentialNumber=o),label:"주민등록번호",placeholder:"123456-1234567"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(s,{modelValue:t(l).nationality,"onUpdate:modelValue":a[6]||(a[6]=o=>t(l).nationality=o),items:A,label:"내/외국인"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(s,{modelValue:t(l).department,"onUpdate:modelValue":a[7]||(a[7]=o=>t(l).department=o),items:t(C),label:"부서"},null,8,["modelValue","items"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(s,{modelValue:t(l).project,"onUpdate:modelValue":a[8]||(a[8]=o=>t(l).project=o),label:"프로젝트",items:t(T)},null,8,["modelValue","items"])]),_:1})]),_:1}),e(V,null,{default:m(()=>[e(n,{sm:"4",cols:"10"},{default:m(()=>[e(S,{modelValue:t(l).workStartDate,"onUpdate:modelValue":a[9]||(a[9]=o=>t(l).workStartDate=o),label:"근무시작일"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(S,{modelValue:t(l).workEndDate,"onUpdate:modelValue":a[10]||(a[10]=o=>t(l).workEndDate=o),label:"근무종료일"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10",class:"d-flex align-center"},{default:m(()=>[e(me,{modelValue:t(l).employmentInsuranceEligibility,"onUpdate:modelValue":a[11]||(a[11]=o=>t(l).employmentInsuranceEligibility=o),label:"보험대상여부"},null,8,["modelValue"])]),_:1})]),_:1}),e(V,null,{default:m(()=>[e(n,{sm:"4",cols:"10"},{default:m(()=>[e(s,{modelValue:t(l).normalPayType,"onUpdate:modelValue":a[12]||(a[12]=o=>t(l).normalPayType=o),items:B,label:"정상급여유형"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).normalPay,"onUpdate:modelValue":a[13]||(a[13]=o=>t(l).normalPay=o),label:"정상급여",placeholder:"0"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).overtimePayRate,"onUpdate:modelValue":a[14]||(a[14]=o=>t(l).overtimePayRate=o),label:"연장급여(시급)",placeholder:"0"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).nightPayRate,"onUpdate:modelValue":a[15]||(a[15]=o=>t(l).nightPayRate=o),label:"야간급여(시급)",placeholder:"0"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(s,{modelValue:t(l).bankName,"onUpdate:modelValue":a[16]||(a[16]=o=>t(l).bankName=o),items:["하나","신한","농협","경남"],label:"은행"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).accountNumber,"onUpdate:modelValue":a[17]||(a[17]=o=>t(l).accountNumber=o),label:"계좌번호"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).accountHolder,"onUpdate:modelValue":a[18]||(a[18]=o=>t(l).accountHolder=o),label:"예금주"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).phoneNumber,"onUpdate:modelValue":a[19]||(a[19]=o=>t(l).phoneNumber=o),label:"핸드폰",placeholder:"010-1234-5678"},null,8,["modelValue"])]),_:1}),e(n,{sm:"4",cols:"10"},{default:m(()=>[e(u,{modelValue:t(l).email,"onUpdate:modelValue":a[20]||(a[20]=o=>t(l).email=o),label:"이메일",placeholder:"seoulit@seoulit.com"},null,8,["modelValue"])]),_:1})]),_:1}),e(P,{class:"mt-10 mb-6"}),j("div",ue,[e(N,{onClick:F},{default:m(()=>[k(" 신규 ")]),_:1}),e(N,{onClick:Y},{default:m(()=>[k(" 마감 ")]),_:1}),e(N,{onClick:$},{default:m(()=>[k(" 저장 ")]),_:1})])]),_:1})]),_:1})]),_:1})]),_:1}),e(U,{modelValue:t(y),"onUpdate:modelValue":a[21]||(a[21]=o=>g(y)?y.value=o:null),location:"top",timeout:3e3,color:"warning"},{default:m(()=>[e(L,{density:"compact",type:"warning",title:"warning!",text:"사원 클릭하여 마감처리바랍니다."})]),_:1},8,["modelValue"]),e(U,{modelValue:t(c),"onUpdate:modelValue":a[22]||(a[22]=o=>g(c)?c.value=o:null),location:"top",timeout:3e3,color:"warning"},{default:m(()=>[e(L,{density:"compact",type:"warning",title:"warning!",text:"존재하는 사원 번호입니다."})]),_:1},8,["modelValue"]),e(U,{modelValue:t(p),"onUpdate:modelValue":a[23]||(a[23]=o=>g(p)?p.value=o:null),location:"top",timeout:3e3,color:"success"},{default:m(()=>[e(L,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}});export{Se as default};
