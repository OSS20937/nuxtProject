import{_ as k}from"./AppSelect.vue.b4c3b989.js";import{_ as E}from"./AppTextField.vue.b7e9490f.js";import{u as A}from"./asyncData.8369e9f6.js";import{p as L,V as N}from"./VPagination.81bc5371.js";import{b as _}from"./index.3b5a2c4c.js";import{s as P}from"./index.01992b54.js";import{a as T,k as $,r as n,l as B,C as F,x as M,b as R,m as U,e as t,w as r,f as e,s as g,g as m,t as j,F as z}from"./entry.65ada128.js";import{u as I}from"./emp.21d975f6.js";import{b as y,a as b}from"./VCard.f486dae6.js";import{V as O}from"./VRow.55c98ddb.js";import{V as Y}from"./VCol.643afbff.js";import{V as G}from"./VSpacer.e72775f0.js";import{V as D}from"./VDivider.dabdf568.js";import{V as H}from"./VDataTable.40f54bb6.js";import{V as q}from"./VAlert.91ef69c0.js";import{V as J}from"./VSnackbar.9e0531b1.js";import"./VCheckboxBtn.bbe7695b.js";import"./forwardRefs.6ea3df5c.js";import"./VSelect.df16466a.js";import"./VMenu.85549b48.js";import"./createSimpleFunctional.89702091.js";import"./VAvatar.657122ee.js";/* empty css              */const K=m("h1",{class:"mb-6"},"퇴직금 조회",-1),Q={class:"me-3 d-flex gap-3"},W={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},X={style:{"inline-size":"10rem"}},Z={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},ee={class:"text-sm text-disabled mb-0"},xe=T({__name:"severancePay",setup(te){const h=$(),p=I();p.loadEmpCode(),console.log("현재 로그인된 직원 코드:",p.empCode),p.empCode!=="EMP-01"&&p.empCode!=="EMP-00"&&h.push("/hr/confinement/unauthorized");const u=n(""),c=n(!1),s=n(""),d=n([]),v=n([]),w=[{title:"신청일",key:"applyDate",align:"center"},{title:"구분",key:"severanceType",align:"center"},{title:"사원명",key:"empName",align:"center"},{title:"근속기간",key:"workDays",align:"center"},{title:"입사일",key:"hireDate",align:"center"},{title:"퇴사일",key:"retireDate",align:"center"},{title:"차인지금액",key:"realSeverancePay",align:"center"}],l=n({page:1,itemsPerPage:5,sortBy:[""],sortDesc:[!1]}),x=async()=>{await A(async()=>{await _().FETCH_YEARLIST()},"$56PDuNtGVO");const i=await _().yearList;v.value=i?Object.values(i).map(a=>a.year):[]},C=async()=>{if(console.log(s.value),s.value===""||s.value==null)d.value=[];else{const i={firstDay:`${s.value}-1-1`,today:`${s.value}-12-31`};await P().FIND_SEVERANCE_PAY(i),d.value=await P().severanceList}},f=B(()=>d.value.filter(i=>Object.values(i).some(a=>typeof a=="string"?a.toLowerCase().includes(u.value.toLowerCase()):!1)));return F(x),M([s],C),(i,a)=>{const V=k,S=E;return R(),U(z,null,[K,t(b,{class:"mb-6"},{default:r(()=>[t(y,null,{default:r(()=>[t(O,null,{default:r(()=>[t(Y,{cols:"12",sm:"4"},{default:r(()=>[t(V,{modelValue:e(s),"onUpdate:modelValue":a[0]||(a[0]=o=>g(s)?s.value=o:null),label:"해당 연도",placeholder:"해당 연도",items:e(v),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),t(b,null,{default:r(()=>[t(y,{class:"d-flex flex-wrap py-4 gap-4"},{default:r(()=>[m("div",Q,[t(V,{"model-value":e(l).itemsPerPage,items:[{value:5,title:"5"},{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":a[1]||(a[1]=o=>e(l).itemsPerPage=parseInt(o,10))},null,8,["model-value"])]),t(G),m("div",W,[m("div",X,[t(S,{modelValue:e(u),"onUpdate:modelValue":a[2]||(a[2]=o=>g(u)?u.value=o:null),placeholder:"Search",density:"compact"},null,8,["modelValue"])])])]),_:1}),t(D),t(e(H),{headers:w,items:e(f),"items-per-page":e(l).itemsPerPage,page:e(l).page,options:e(l)},{bottom:r(()=>[t(D),t(y,{class:"pt-2"},{default:r(()=>[m("div",Z,[m("p",ee,j(e(L)({page:e(l).page,itemsPerPage:e(l).itemsPerPage},e(f).length)),1),t(N,{modelValue:e(l).page,"onUpdate:modelValue":a[3]||(a[3]=o=>e(l).page=o),"total-visible":i.$vuetify.display.smAndDown?3:5,length:Math.ceil(e(f).length/e(l).itemsPerPage)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1},8,["items","items-per-page","page","options"])]),_:1}),t(J,{modelValue:e(c),"onUpdate:modelValue":a[4]||(a[4]=o=>g(c)?c.value=o:null),location:"center",timeout:3e3,color:"error"},{default:r(()=>[t(q,{density:"compact",type:"error",title:"error!",text:"현재 테이블 데이터가 없습니다."})]),_:1},8,["modelValue"])],64)}}});export{xe as default};
