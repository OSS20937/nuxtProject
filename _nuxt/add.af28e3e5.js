import{b as $}from"./index.7f0cc5bf.js";import{e as E}from"./index.39e3ee72.js";import{a as re,r as n,x as z,l as p,o as pe,b as ce,m as ve,e as t,w as o,i as k,j as D,f as fe,g as i,p as G}from"./entry.45328514.js";import{V as L}from"./VRow.2cb9c593.js";import{V as d}from"./VCol.41614dfd.js";import{V as m}from"./VSelect.370b9de8.js";import{a as h,b as J,c as Ve,V as be}from"./VCard.aca4253c.js";import{V as ye}from"./VDataTable.48cadc94.js";import{V as s}from"./VCheckboxBtn.731da787.js";import{V as Oe}from"./VSpacer.bcdf0cc3.js";import{V as _e}from"./VDialog.eb5b071b.js";/* empty css              */import"./forwardRefs.6ea3df5c.js";import"./VMenu.7b9e0b3d.js";import"./createSimpleFunctional.05e807c5.js";import"./VAvatar.c7dee377.js";import"./VDivider.59e18b83.js";const ge=i("h1",{class:"mb-6"},"인사고과 대상자 추가",-1),Ue=i("br",null,null,-1),Le=i("span",null,"근태",-1),Ne=i("p",null,"결근 없음, +20 / 1~2일 결근, +16 / 3~4일 결근, +12 / 5일 이상 결근, +8 / 자주 지각, +10 이하",-1),Ce=i("span",null,"직급",-1),De=i("p",null,"사원, +10 / 대리, +12 / 과장, +15 / 차장, +18 / 부장 이상, +20",-1),he=i("span",null,"결격(징계 등)여부",-1),Te=i("p",null,"결격 사유 없음, +10 / 결격 사유 있음, +0",-1),we=i("span",null,"교육이수",-1),xe=i("p",null,"직무 관련 교육 이수 5회 이상, +15 / 직무 관련 교육 이수 3~4회, +10 / 직무 관련 교육 이수 1~2회, +6 / 직무 관련 교육 이수내역 없음, +0",-1),Se=i("span",null,"근속년수",-1),Ee=i("p",null,"10년 이상, +10 / 5~9년 근속, +7 / 1~4년 근속, +5 / 1년 미만 근속, +2",-1),ke=i("span",null,"자격증",-1),Re=i("p",null,"직무 관련 자격증 보유, +15 / 일부 관련 자격증 보유, +6 / 자격증 없음, +0",-1),He=i("span",null,"휴가 사용",-1),je=i("p",null,"휴가 사용 적절, +10 / 과도한 휴가 사용, +5 / 휴가 사용 적지 않음, +2",-1),qe=i("span",null,"등급산정",-1),Ae=i("p",null," 90점 이상, S / 90점 미만 ~ 80점 이상, A / 80점 미만 ~ 70점 이상, B / 70점 미만 ~ 60점 이상, C / 60점 미만 ~ 50점 이상, D / 50점 미만, E ",-1),ta=re({__name:"add",setup(Be){const R=E(),N=n(""),y=n(""),O=n("");n("");const c=n(""),_=n(""),v=n(""),r=n(""),g=n(""),f=n(""),V=n(""),b=n(""),H=n(""),j=n(""),K=n(""),T=n([]),q=n([]),A=n([]),B=n([]),Y=n([]),F=n([]),M=n([]),P=n([]),I=n([]),w=n([]),x=n([]),C=n([]),U=n(!1),S=n(""),Q=async()=>{await $().FETCH_YEARLIST();const a=$().yearList;I.value=a?Object.values(a).map(l=>l.year):[]},W=[{title:"이름",key:"empName",width:"150px"},{title:"부서",key:"deptName",width:"150px"},{title:"직급",key:"positionName",width:"150px"},{title:"교육",key:"durationOfTraining",width:"200px"},{title:"자격증",key:"numberOfCertificate",width:"200px"},{title:"근태",key:"attendanceStatus",width:"150px"},{title:"남은 휴가",key:"numberOfRestDay",width:"150px"},{title:"휴가",key:"remainingHoliday",width:"200px"},{title:"결격여부",key:"disqualification",width:120},{title:"장기근속",key:"career",width:"160px"},{title:"총 점수",key:"score",width:"150px"},{title:"등급",key:"grade"}],X=async()=>{try{const a=await G.get("http://localhost:8282/hr/base/deptList");console.log("vava",a.data);const l=a.data.deptlist;w.value=l.map(e=>({title:e.deptName,value:e.deptCode})),console.log("[deptList]",w.value)}catch(a){console.error(a)}},Z=async()=>{try{const a=await G.get("http://localhost:8282/hr/affair/emp");console.log("gaga",a.data);const l=a.data.empList;x.value=l.map(e=>({title:e.empName,value:e.empCode})),console.log("[empList]",x.value)}catch(a){console.error(a)}};z([y,O,c,_,r,v,g,f,V,b,H,j,K],()=>{C.value=[{empName:y.value,deptName:O.value,positionName:c.value,durationOfTraining:_.value,attendanceStatus:r.value,numberOfCertificate:v.value,numberOfRestDay:g.value,remainingHoliday:f.value,disqualification:V.value,career:b.value,score:H.value,grade:j.value,status:"미승인"}]},{immediate:!0});const ee=async()=>{await E().FETCH_EVALLIST();const a=E().evalList;console.log("값",a),T.value=a?Object.values(a).map(l=>l.positionName):[],q.value=a?Object.values(a).map(l=>l.durationOfTraining):[],A.value=a?Object.values(a).map(l=>l.numberOfCertificate):[],B.value=a?Object.values(a).map(l=>l.attendanceStatus):[],T.value=a?Object.values(a).map(l=>l.positionName):[],Y.value=a?Object.values(a).map(l=>l.numberOfRestDay):[],F.value=a?Object.values(a).map(l=>l.remainingHoliday):[],M.value=a?Object.values(a).map(l=>l.disqualification):[],P.value=a?Object.values(a).map(l=>l.career):[]},ae=p(()=>T.value.filter(a=>a!==null&&a!=="")),le=p(()=>q.value.filter(a=>a!==null&&a!=="")),te=p(()=>A.value.filter(a=>a!==null&&a!=="")),oe=p(()=>B.value.filter(a=>a!==null&&a!=="")),ne=p(()=>Y.value.filter(a=>a!==null&&a!=="")),ue=p(()=>F.value.filter(a=>a!==null&&a!=="")),ie=p(()=>M.value.filter(a=>a!==null&&a!=="")),se=p(()=>P.value.filter(a=>a!==null&&a!=="")),de=async()=>{if(!N.value||!O.value||!y.value||!c.value||!v.value||!r.value||!f.value||!V.value||!b.value){alert("모든 슬롯 창을 선택하거나 값을 입력해주세요.");return}const a={positionName:c.value,durationOfTraining:_.value,numberOfCertificate:v.value,attendanceStatus:r.value,numberOfRestDay:g.value,remainingHoliday:f.value,disqualification:V.value,career:b.value},l={searchYear:N.value,deptName:O.value,empName:y.value,positionName:a.positionName||c.value,durationOfTraining:a.durationOfTraining||_.value,numberOfCertificate:a.numberOfCertificate||v.value,attendanceStatus:a.attendanceStatus||r.value,numberOfRestDay:a.numberOfRestDay||g.value,remainingHoliday:a.remainingHoliday||f.value,disqualification:a.disqualification||V.value,career:a.career||b.value};console.log("evalEmpData:",l);try{await R.ADD_EMP_EVAL(l),C.value=R.evalList,console.log("Updated evalList:",C.value)}catch(e){console.error("Error in btnAddEmpEval",e)}};z(r,a=>{a==="자주 지각"&&(U.value=!0)});const me=()=>{r.value=`자주 지각 (${S.value})`,U.value=!1};return pe(()=>{Q(),X(),Z(),ee()}),(a,l)=>(ce(),ve("div",null,[ge,t(h,{class:"pa-6 mb-6",elevation:"2"},{default:o(()=>[t(L,null,{default:o(()=>[t(d,{cols:"12",md:"4"},{default:o(()=>[t(m,{modelValue:N.value,"onUpdate:modelValue":l[0]||(l[0]=e=>N.value=e),class:"ma-3",label:"검색년도",items:I.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12",md:"4"},{default:o(()=>[t(m,{modelValue:O.value,"onUpdate:modelValue":l[1]||(l[1]=e=>O.value=e),class:"ma-3",label:"부서명",items:w.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12",md:"4"},{default:o(()=>[t(m,{modelValue:y.value,"onUpdate:modelValue":l[2]||(l[2]=e=>y.value=e),class:"ma-3",label:"사원명",items:x.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(L,null,{default:o(()=>[t(d,null,{default:o(()=>[t(m,{modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=e=>c.value=e),class:"ma-3",label:"직급",items:ae.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:o(()=>[t(m,{modelValue:_.value,"onUpdate:modelValue":l[4]||(l[4]=e=>_.value=e),class:"ma-3",label:"교육",items:le.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:o(()=>[t(m,{modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]=e=>v.value=e),class:"ma-3",label:"자격증",items:te.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(L,null,{default:o(()=>[t(d,null,{default:o(()=>[t(m,{modelValue:r.value,"onUpdate:modelValue":l[6]||(l[6]=e=>r.value=e),class:"ma-3",label:"근태",items:oe.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:o(()=>[t(m,{modelValue:g.value,"onUpdate:modelValue":l[7]||(l[7]=e=>g.value=e),class:"ma-3",label:"남은 휴가",items:ne.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,null,{default:o(()=>[t(m,{modelValue:f.value,"onUpdate:modelValue":l[8]||(l[8]=e=>f.value=e),class:"ma-3",label:"휴가",items:ue.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(L,null,{default:o(()=>[t(d,{cols:"12",md:"2"},{default:o(()=>[t(m,{modelValue:V.value,"onUpdate:modelValue":l[9]||(l[9]=e=>V.value=e),class:"ma-3",label:"결격여부",items:ie.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1}),t(d,{cols:"12",md:"2"},{default:o(()=>[t(m,{modelValue:b.value,"onUpdate:modelValue":l[10]||(l[10]=e=>b.value=e),class:"ma-3",label:"근속연수",items:se.value,variant:"outlined"},null,8,["modelValue","items"])]),_:1})]),_:1}),t(L,{class:"mt-4 justify-end"},{default:o(()=>[t(k,{class:"ml-3",color:"primary",onClick:de},{default:o(()=>[D(" 사원 추가 ")]),_:1})]),_:1})]),_:1}),t(h,{class:"pa-6",elevation:"1"},{default:o(()=>[t(fe(ye),{class:"mt-10",headers:W,items:C.value},{"item.empName":o(({item:e})=>[t(s,{modelValue:e.empName,"onUpdate:modelValue":u=>e.empName=u,label:e.empName||"이름",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.deptName":o(({item:e})=>[t(s,{modelValue:e.deptName,"onUpdate:modelValue":u=>e.deptName=u,label:e.deptName||"부서",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.positionName":o(({item:e})=>[t(s,{modelValue:e.positionName,"onUpdate:modelValue":u=>e.positionName=u,label:e.positionName||"직급",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.durationOfTraining":o(({item:e})=>[t(s,{modelValue:e.durationOfTraining,"onUpdate:modelValue":u=>e.durationOfTraining=u,label:e.durationOfTraining||"교육",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.numberOfCertificate":o(({item:e})=>[t(s,{modelValue:e.numberOfCertificate,"onUpdate:modelValue":u=>e.numberOfCertificate=u,label:e.numberOfCertificate||"자격증",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.attendanceStatus":o(({item:e})=>[t(s,{modelValue:e.attendanceStatus,"onUpdate:modelValue":u=>e.attendanceStatus=u,label:e.attendanceStatus||"근태",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.numberOfRestDay":o(({item:e})=>[t(s,{modelValue:e.numberOfRestDay,"onUpdate:modelValue":u=>e.numberOfRestDay=u,label:e.numberOfRestDay||"남은 휴가",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.remainingHoliday":o(({item:e})=>[t(s,{modelValue:e.remainingHoliday,"onUpdate:modelValue":u=>e.remainingHoliday=u,label:e.remainingHoliday||"휴가",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.disqualification":o(({item:e})=>[t(s,{modelValue:e.disqualification,"onUpdate:modelValue":u=>e.disqualification=u,label:e.disqualification||"결격여부",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.career":o(({item:e})=>[t(s,{modelValue:e.career,"onUpdate:modelValue":u=>e.career=u,label:e.career||"근속연수",dense:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.score":o(({item:e})=>[t(s,{modelValue:e.score,"onUpdate:modelValue":u=>e.score=u,label:e.score||"총 점수",dense:"",disabled:""},null,8,["modelValue","onUpdate:modelValue","label"])]),"item.grade":o(({item:e})=>[t(s,{modelValue:e.grade,"onUpdate:modelValue":u=>e.grade=u,label:e.grade||"등급",dense:"",disabled:""},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1032,["items"])]),_:1}),Ue,t(h,{title:"<등급 산정 기준>"},{default:o(()=>[t(J,null,{default:o(()=>[Le,Ne,Ce,De,he,Te,we,xe,Se,Ee,ke,Re,He,je,qe,Ae]),_:1})]),_:1}),t(_e,{modelValue:U.value,"onUpdate:modelValue":l[13]||(l[13]=e=>U.value=e),"max-width":"400px"},{default:o(()=>[t(h,null,{default:o(()=>[t(Ve,null,{default:o(()=>[D("지각 횟수를 선택해주세요")]),_:1}),t(J,null,{default:o(()=>[t(s,{modelValue:S.value,"onUpdate:modelValue":l[11]||(l[11]=e=>S.value=e),type:"number",placeholder:"숫자를 입력하세요",variant:"outlined"},null,8,["modelValue"])]),_:1}),t(be,null,{default:o(()=>[t(Oe),t(k,{text:"",onClick:l[12]||(l[12]=e=>U.value=!1)},{default:o(()=>[D("취소")]),_:1}),t(k,{color:"primary",onClick:me},{default:o(()=>[D("적용")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]))}});export{ta as default};
