import{_ as w}from"./AppDateTimePicker.vue.c14a1c7a.js";import{_ as D}from"./AppTextField.vue.bf697606.js";import{c as b}from"./index.4708558d.js";import{u as N}from"./emp.01c69dea.js";import{a as R,k as q,r as l,o as P,b as g,m as A,e,w as t,i as f,j as d,f as S,F as B,g as _}from"./entry.78a4d2b5.js";import{V as F}from"./VContainer.91fe41ee.js";import{V as E}from"./VRow.54119276.js";import{V as s}from"./VCol.369eaaa8.js";import{c as U,b as L,a as M}from"./VCard.74fedfca.js";import{V as O}from"./VDataTable.98bf3bb2.js";import"./VCheckboxBtn.de217159.js";import"./forwardRefs.6ea3df5c.js";/* empty css              */import"./createSimpleFunctional.7c9d16ea.js";import"./VAvatar.c7ed456b.js";import"./VSelect.dc01c53d.js";import"./VMenu.b24af2d4.js";import"./VDivider.0d3ed842.js";const j=_("h1",{class:"mb-6"},"경조비 신청승인",-1),I=_("span",{class:"mt-5 ml-3"},"신청일자",-1),X=_("span",{class:"mt-5"},"~",-1),ue=R({__name:"approval",setup($){const k=q(),n=N();n.loadEmpCode(),console.log("현재 로그인된 직원 코드:",n.empCode),n.empCode!=="EMP-01"&&n.empCode!=="EMP-00"&&k.push("/hr/confinement/unauthorized");const r=b(),V=l([]),m=l([]),p=l(""),c=l(""),u=l("");l("");const y=[{title:"신청번호",key:"reqNum"},{title:"신청자",key:"empName"},{title:"신청일자",key:"reqDate"},{title:"경조구분",key:"conType"},{title:"관계",key:"rel"},{title:"경조일(시작)",key:"conTermStart"},{title:"경조일(종료)",key:"conTermEnd"},{title:"금액",key:"conAmt"},{title:"상태",key:"approvalStatus"}],i=async()=>{const v={startDate:p.value,endDate:c.value,searchEmpCode:u.value.trim()!==""?u.value:"undefined"};await r.FETCH_REQ_DETAIL(v),V.value=r.conExpenseList},T=async()=>{await r.APPROVE_CONEXP(m.value),await i()},x=async()=>{await r.REJECT_CONEXP(m.value),await i()};return P(()=>{i()}),(v,a)=>{const C=w,h=D;return g(),A(B,null,[j,e(M,null,{default:t(()=>[e(F,null,{default:t(()=>[e(E,null,{default:t(()=>[I,e(s,{cols:"12",md:"2"},{default:t(()=>[e(C,{modelValue:p.value,"onUpdate:modelValue":a[0]||(a[0]=o=>p.value=o),"append-inner-icon":"tabler-calendar"},null,8,["modelValue"])]),_:1}),X,e(s,{cols:"12",md:"2"},{default:t(()=>[e(C,{modelValue:c.value,"onUpdate:modelValue":a[1]||(a[1]=o=>c.value=o),"append-inner-icon":"tabler-calendar"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",md:"2"},{default:t(()=>[e(h,{modelValue:u.value,"onUpdate:modelValue":a[2]||(a[2]=o=>u.value=o),"append-inner-icon":"tabler-search",placeholder:"사원번호"},null,8,["modelValue"])]),_:1}),e(s,{cols:"12",md:"2"},{default:t(()=>[e(f,{color:"primary",onClick:i},{default:t(()=>[d("검색")]),_:1})]),_:1})]),_:1})]),_:1}),e(U,null,{default:t(()=>[d("✨ 신청 승인 대기 목록")]),_:1}),e(L,null,{default:t(()=>[e(S(O),{modelValue:m.value,"onUpdate:modelValue":a[3]||(a[3]=o=>m.value=o),headers:y,items:V.value,"item-value":"reqNum","show-select":"","items-per-page":10},null,8,["modelValue","items"])]),_:1}),e(E,{class:"text-right mr-2 mb-2"},{default:t(()=>[e(s,null,{default:t(()=>[e(f,{variant:"outlined",color:"success",class:"mr-2",onClick:T},{default:t(()=>[d(" 승인 ")]),_:1}),e(f,{variant:"outlined",color:"error",onClick:x},{default:t(()=>[d(" 반려 ")]),_:1})]),_:1})]),_:1})]),_:1})],64)}}});export{ue as default};
