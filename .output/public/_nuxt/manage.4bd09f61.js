import{_ as F}from"./AppSelect.vue.6a73b757.js";import{_ as M}from"./DialogCloseBtn.vue.d03e311e.js";import{_ as $}from"./AppTextField.vue.bf697606.js";import{s as i}from"./index.95a1337c.js";import{a as w,b as y}from"./VCard.74fedfca.js";import{V as D}from"./VDivider.0d3ed842.js";import{V as N}from"./VRow.54119276.js";import{V as v}from"./VCol.369eaaa8.js";import{a as R,r as f,l as j,b as U,m as k,g as S,e,w as a,f as t,s as b,i as L,j as A,F as I,k as Y,x as H,C as z,t as W}from"./entry.78a4d2b5.js";import{V as G}from"./VDialog.5abc7388.js";import{V as B}from"./VAlert.659862cf.js";import{V as O}from"./VSnackbar.01af3bad.js";import{p as q,V as J}from"./VPagination.9bd5a386.js";import{b as E}from"./index.eab64a4f.js";import{u as K}from"./emp.01c69dea.js";import{V as Q}from"./VSpacer.47a3ab3e.js";import{V as X}from"./VDataTable.98bf3bb2.js";import"./VCheckboxBtn.de217159.js";import"./forwardRefs.6ea3df5c.js";import"./VSelect.dc01c53d.js";import"./VMenu.b24af2d4.js";import"./createSimpleFunctional.7c9d16ea.js";import"./VAvatar.c7ed456b.js";/* empty css              */const Z={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ee=R({__name:"SalBaseManageAddModal",props:["fetchData2"],setup(P){const C=P,c=f(!1),p=f(!1),l=f(""),V=f(""),_=f(""),n=f(""),o=j(()=>i().deptList),x=[{value:"POS-01",title:"사장"},{value:"POS-02",title:"이사"},{value:"POS-03",title:"부장"},{value:"POS-04",title:"차장"},{value:"POS-05",title:"과장"},{value:"POS-06",title:"대리"},{value:"POS-07",title:"사원"},{value:"POS-08",title:"인턴"},{value:"POS-09",title:"계약직"}],g=async()=>{const s={deptCode:_.value,positionCode:n.value,baseSalary:l.value,hobongRatio:V.value};Object.values(s).some(u=>u===""||u===null)?p.value=!0:(await i().ADD_BASE_SALARY(s),await C.fetchData2(),i().SET_DIALOG_BTN(!1),c.value=!0)};return(s,u)=>{const r=M,m=F,T=$;return U(),k(I,null,[S("div",Z,[e(G,{modelValue:t(i)().isDialogBtn,"onUpdate:modelValue":u[5]||(u[5]=d=>t(i)().isDialogBtn=d),"max-width":"600"},{default:a(()=>[e(r,{onClick:u[0]||(u[0]=d=>t(i)().SET_DIALOG_BTN(!1))}),e(w,{title:"기준 급여 추가"},{default:a(()=>[e(y,null,{default:a(()=>[e(D,{class:"mb-6"}),e(N,null,{default:a(()=>[e(v,{cols:"12",sm:"6"},{default:a(()=>[e(m,{modelValue:t(_),"onUpdate:modelValue":u[1]||(u[1]=d=>b(_)?_.value=d:null),items:t(o),label:"부서명",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1}),e(v,{cols:"12",sm:"6"},{default:a(()=>[e(m,{modelValue:t(n),"onUpdate:modelValue":u[2]||(u[2]=d=>b(n)?n.value=d:null),items:x,label:"직급명",clearable:"","clear-icon":"tabler-x"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"6"},{default:a(()=>[e(T,{modelValue:t(l),"onUpdate:modelValue":u[3]||(u[3]=d=>b(l)?l.value=d:null),label:"기본급"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"6"},{default:a(()=>[e(T,{modelValue:t(V),"onUpdate:modelValue":u[4]||(u[4]=d=>b(V)?V.value=d:null),label:"호봉인상률"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(D),e(y,{class:"d-flex justify-end flex-wrap gap-3 mt-2"},{default:a(()=>[e(L,{onClick:g},{default:a(()=>[A(" 추가 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(w),e(O,{modelValue:t(p),"onUpdate:modelValue":u[6]||(u[6]=d=>b(p)?p.value=d:null),location:"top",timeout:3e3,color:"warning"},{default:a(()=>[e(B,{density:"compact",type:"warning",title:"warning!",text:"부서명, 직급명, 기본급, 호봉인상률을 선택해주세요."})]),_:1},8,["modelValue"]),e(O,{modelValue:t(c),"onUpdate:modelValue":u[7]||(u[7]=d=>b(c)?c.value=d:null),location:"top",timeout:3e3,color:"success"},{default:a(()=>[e(B,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}}),te={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ae=R({__name:"SalBaseManageEditModal",props:["fetchData2"],setup(P){const C=P,c=f(!1),p=f(!1),l=j(()=>f(i().rowList).value),V=async()=>{const n={hobongRatio:l.value.hobongRatio,baseSalary:l.value.baseSalary,positionCode:l.value.positionCode,deptCode:l.value.deptCode};Object.values(n).some(o=>o===""||o===null)?c.value=!0:(await i().EDIT_BASE_SALARY(n),await C.fetchData2(),i().SET_DIALOG(!1),p.value=!0)},_=async()=>{const n={deptCode:l.value.deptCode,positionCode:l.value.positionCode};await i().DELETE_BASE_SALARY(n),await C.fetchData2(),i().SET_DIALOG(!1),p.value=!0};return(n,o)=>{const x=M,g=$;return U(),k(I,null,[S("div",te,[e(G,{modelValue:t(i)().isDialogVisible,"onUpdate:modelValue":o[6]||(o[6]=s=>t(i)().isDialogVisible=s),"max-width":"600"},{default:a(()=>[e(x,{onClick:o[0]||(o[0]=s=>t(i)().SET_DIALOG(!1))}),e(w,{title:"기준 급여 추가"},{default:a(()=>[e(y,null,{default:a(()=>[e(D,{class:"mb-6"}),e(N,null,{default:a(()=>[e(v,{cols:"12",sm:"4"},{default:a(()=>[e(g,{modelValue:t(l).deptName,"onUpdate:modelValue":o[1]||(o[1]=s=>t(l).deptName=s),label:"부서명",disabled:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"4"},{default:a(()=>[e(g,{modelValue:t(l).deptCode,"onUpdate:modelValue":o[2]||(o[2]=s=>t(l).deptCode=s),label:"직급 번호",disabled:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"4"},{default:a(()=>[e(g,{modelValue:t(l).positionName,"onUpdate:modelValue":o[3]||(o[3]=s=>t(l).positionName=s),label:"직급명",disabled:""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"4"},{default:a(()=>[e(g,{modelValue:t(l).baseSalary,"onUpdate:modelValue":o[4]||(o[4]=s=>t(l).baseSalary=s),label:"기본급"},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",sm:"4"},{default:a(()=>[e(g,{modelValue:t(l).hobongRatio,"onUpdate:modelValue":o[5]||(o[5]=s=>t(l).hobongRatio=s),label:"호봉인상률"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(D),e(y,{class:"d-flex justify-end flex-wrap gap-3 mt-2"},{default:a(()=>[e(L,{onClick:V},{default:a(()=>[A(" 수정 ")]),_:1}),e(L,{onClick:_},{default:a(()=>[A(" 삭제 ")]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),e(w),e(O,{modelValue:t(c),"onUpdate:modelValue":o[7]||(o[7]=s=>b(c)?c.value=s:null),location:"top",timeout:3e3,color:"warning"},{default:a(()=>[e(B,{density:"compact",type:"warning",title:"warning!",text:"빈칸을 기입해주세요."})]),_:1},8,["modelValue"]),e(O,{modelValue:t(p),"onUpdate:modelValue":o[8]||(o[8]=s=>b(p)?p.value=s:null),location:"top",timeout:3e3,color:"success"},{default:a(()=>[e(B,{density:"compact",type:"success",title:"success!",text:"완료되었습니다."})]),_:1},8,["modelValue"])],64)}}}),le=S("h1",{class:"mb-6"},"기준급여관리",-1),oe={class:"me-3 d-flex gap-3"},se={class:"app-user-search-filter d-flex align-center flex-wrap gap-4"},ie={class:"d-flex flex-wrap justify-center justify-sm-space-between gap-y-2 mt-2"},ne={class:"text-sm text-disabled mb-0"},Oe=R({__name:"manage",setup(P){const C=Y(),c=K();c.loadEmpCode(),console.log("현재 로그인된 직원 코드:",c.empCode),c.empCode!=="EMP-01"&&c.empCode!=="EMP-00"&&C.push("/hr/confinement/unauthorized");const p=f(""),l=f([]),V=f([]),_=f([]),n=f({page:1,itemsPerPage:5,sortBy:[""],sortDesc:[!1]}),o=[{title:"부서명",key:"deptName",align:"center"},{title:"직급 번호",key:"positionCode",align:"center"},{title:"직급명",key:"positionName",align:"center"},{title:"기본급",key:"baseSalary",align:"center"},{title:"호봉인상률",key:"hobongRatio",align:"center"}],x=async()=>{await i().SET_DIALOG_BTN(!1),await E().FETCH_DEPTLIST(),await E().FETCH_POSLIST();const r=await E().deptList;l.value=r?Object.values(r).map(m=>({title:m.deptName,value:m.deptCode})):[],_.value=E().posList},g=async()=>{p.value===""||p.value===null?V.value=[]:(await i().FETCH_BASE_SALARY(p.value),V.value=i().baseSalaryList)},s=async()=>{console.log(_.value);const r=_.value?Object.values(_.value).map(m=>({title:m.positionName,value:m.positionCode})):[];await i().SET_POS_LIST(r),await i().SET_DEPT_LIST(l._rawValue),await i().SET_DIALOG_BTN(!0)},u=async r=>{const m={deptName:r.item.deptName,deptCode:r.item.deptCode,positionName:r.item.positionName,baseSalary:r.item.baseSalary,hobongRatio:r.item.hobongRatio,positionCode:r.item.positionCode};await i().SET_ROW_LIST(m),await i().SET_DIALOG(!0)};return H([p],g,{immediate:!0}),z(x),(r,m)=>{const T=F;return U(),k(I,null,[le,e(w,{class:"mb-6"},{default:a(()=>[e(y,null,{default:a(()=>[e(N,null,{default:a(()=>[e(v,{cols:"12",sm:"4"},{default:a(()=>[e(T,{modelValue:t(p),"onUpdate:modelValue":m[0]||(m[0]=d=>b(p)?p.value=d:null),label:"부서",items:t(l),clearable:"","clear-icon":"tabler-x"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(w,null,{default:a(()=>[e(y,{class:"d-flex flex-wrap py-4 gap-4"},{default:a(()=>[S("div",oe,[e(T,{"model-value":t(n).itemsPerPage,items:[{value:5,title:"5"},{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:-1,title:"All"}],style:{"inline-size":"6.25rem"},"onUpdate:modelValue":m[1]||(m[1]=d=>t(n).itemsPerPage=parseInt(d,10))},null,8,["model-value"])]),e(Q),S("div",se,[e(L,{"prepend-icon":"tabler-plus",onClick:s},{default:a(()=>[A(" 급여 기준 추가 ")]),_:1})])]),_:1}),e(D),e(t(X),{headers:o,items:t(V),"items-per-page":t(n).itemsPerPage,page:t(n).page,options:t(n),"onClick:row":m[3]||(m[3]=(d,h)=>u(h))},{bottom:a(()=>[e(D),e(y,{class:"pt-2"},{default:a(()=>[S("div",ie,[S("p",ne,W(t(q)({page:t(n).page,itemsPerPage:t(n).itemsPerPage},t(V).length)),1),e(J,{modelValue:t(n).page,"onUpdate:modelValue":m[2]||(m[2]=d=>t(n).page=d),"total-visible":r.$vuetify.display.smAndDown?3:5,length:Math.ceil(t(V).length/t(n).itemsPerPage)},null,8,["modelValue","total-visible","length"])])]),_:1})]),_:1},8,["items","items-per-page","page","options"])]),_:1}),e(ae,{"fetch-data2":g}),e(ee,{"fetch-data2":g})],64)}}});export{Oe as default};
